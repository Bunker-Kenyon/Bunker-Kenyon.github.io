<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="styleGuide.css">
    <title>Local Storage</title>
    <script type="text/javascript" src="functions.js"></script>
</head>
<body onload="setDefaults()">
    <!--Heading-->
    <div>
        <header class="header">
            <h1>Local Storage API, Storing and Retrieving Simple Data, Arrays, Associative Arrays, and Objects</h1>
        </header>
    </div>
    <div>
        <!--Nav Bar-->
        <nav class="navbar">
            <a href="index.html">CS 261 Topics</a>
            <a href="JSBasics.html">Loops, Statements, Arrays, etc</a>
            <a href="JSObjectsEtc.html">Object Creation Functions, Inheritance, etc</a>
            <a href="JSONParse.html">JSON Parse, Stringify</a>
            <a href="JSONWeb.html">XMLHTTPRequest & JSON Web Service</a>
            <a href="LocalStorage.html">Local Storage</a>
            <a href="DOM.html">DOM Manipulation</a>
            <a href="CSSwJavaScript.html">CSS Manipulation with JavaScript</a>
            <a href="CSSTandA.html">CSS3 Transitions and Animations</a>
            <a href="JSEvents.html">Standard JavaScript Events</a>
            <a href="HTML5Tags.html">HTML5 Tags</a>
            <a href="CSSTransitions.html">CSS3 Transitions without Custom Libraries</a>
            <a href="CSSTransforms.html">CSS3 Transforms without Custom Libraries</a>
            <a href="CSSAnimations.html">CSS3 Animations without Custom Libraries</a>
        </nav>

        <div class="section">
            <h2>Local Storage</h2>
            <h3>Storing Arrays</h3>
            <p>My Favorite Foods</p>
            <p id="demoLocalStorageArray"></p>
            <script>
                // the array
                var food = ["Pizza", "Mac and Cheese", "Fruit Smoothies",
                    "Spagetti", "Pinto Beans with ketchup and cheese", "Any Mexican Food"];

                // storing our array as a string
                localStorage.setItem("yummyfood", JSON.stringify(food));

                // retrieving the data and converting it back into an array
                var retrievedData = localStorage.getItem("yummyfood");
                var food2 = JSON.parse(retrievedData);

                // loop for display
                var displayText = "";
                var i = 0;
                for (i = 0; i < food2.length; i++) {
                    displayText += food2[i] + "<br>";
                }

                //Display
                document.getElementById("demoLocalStorageArray").innerHTML = displayText;
            </script>
        </div>
        <div class="section">
            <h3>Storing Objects</h3>
            <p id="demoLocalStorageObj"></p>
            <script>
                //Define a person
                function Person(first, last, age, gender) {
                    this.name = {
                        first,
                        last
                    };
                    this.age = age;
                    this.gender = gender;
                };

                //Add a greeting to the person object
                Person.prototype.greeting = function () {
                    alert('Hi! I\'m ' + this.name.first + '.');
                };

                //Define a SGTeamMember inheriting person
                function SGTeamMember(first, last, age, gender, rank, role, id, x) {
                    Person.call(this, first, last, age, gender);

                    this.rank = rank;
                    this.role = role;
                    this.id = id;
                    this.x = x;
                }

                //This is the inheritance part
                SGTeamMember.prototype = Object.create(Person.prototype);
                Object.defineProperty(SGTeamMember.prototype, 'constructor', {
                    value: SGTeamMember,
                    enumerable: false,
                    writable: true
                });

                //Adding a SGTeamMember greating
                SGTeamMember.prototype.greeting = function () {
                    return "Hi. My name is " + this.rank + " " + this.name.first + " "
                        + this.name.last + ". I am the " + this.role + " of this team.";
                };

                //Instantiate the SGTeamMember object
                var teamMember = new SGTeamMember('Jack', 'Oniell', 31, 'male', 'Colonel', 'Team Leader', 1234);

                //Store the data
                localStorage.setItem("teammember", JSON.stringify(teamMember));

                // retrieving the data and converting it back into an object
                var retrievedData = localStorage.getItem("teammember");
                var teamMember2 = JSON.parse(retrievedData);
                console.log("teamMember2: " + teamMember2);


                //Display
                document.getElementById("demoLocalStorageObj").innerHTML = "Hi. My name is " + teamMember2.rank + " " + teamMember2.name.first + " "
                    + teamMember2.name.last + ". I am the " + teamMember2.role + " of this team.";
            </script>
            <p>It is interesting to note that my prototype greeting does not work but all member variables work in the object after coming from storage</p>
        </div>
        <div class="section">
            <h2>Session Storage </h2>
            <h3>Storing Arrays</h3>
            <p>My Favorite Foods</p>
            <p id="demoSessionStorageArray"></p>
            <script>
                // the array
                var food = ["Pizza", "Mac and Cheese", "Fruit Smoothies",
                    "Spagetti", "Pinto Beans with ketchup and cheese", "Any Mexican Food"];

                // storing our array as a string
                sessionStorage.setItem("yummyfood", JSON.stringify(food));

                // retrieving the data and converting it back into an array
                var retrievedData = sessionStorage.getItem("yummyfood");
                var food2 = JSON.parse(retrievedData);

                // loop for display
                var displayText = "";
                var i = 0;
                for (i = 0; i < food2.length; i++) {
                    displayText += food2[i] + "<br>";
                }

                //Display
                document.getElementById("demoSessionStorageArray").innerHTML = displayText;
            </script>
            <p>Because I used sessionStorage, the data for teamMember2 will be lost after I close the tab.</p>
        </div>



            <!--Footer-->
        </div>

</body>
</html>